<!doctype html>
<head>
    <title>Index from Flask</title>
    <style>
        .button_region {
            display: inline-block;
            margin-top: 20px;
            margin-bottom: 20px;
        }
    </style>
    
    <!-- 카카오맵-->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8a73ea9cec540587efd53c0b1e54116f"></script>
    <!-- 카카오맵 라이브러리 추가-->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=APIKEY&libraries=LIBRARY"></script>
    <!-- services 라이브러리 불러오기 -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=APIKEY&libraries=services"></script>
    <!-- services와 clusterer, drawing 라이브러리 불러오기 -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=APIKEY&libraries=services,clusterer,drawing"></script>
    
</head>
<body>
<h1>주소 뒤에 원하는 가게가 속하는 권을 써주세요!</h1>
<h2>ex)/동남권</h2>

<form action="{{ url_for('shop_region') }}" method="post">
    <label for="input">권역: </label><input type="text" name="region" id="input">
    <input type="submit" value="제출">
</form>
<div class="button_region">
    <form action="{{ url_for('shop_region') }}" method="post">
        <input type="submit" value="동남권" name="region">
    </form>
</div>
<div class="button_region">
    <form action="{{ url_for('shop_region') }}" method="post">
        <input type="submit" value="동북권" name="region">
    </form>
</div>
<div class="button_region">
    <form action="{{ url_for('shop_region') }}" method="post">
        <input type="submit" value="도심권" name="region">
    </form>
</div>
<div class="button_region">
    <form action="{{ url_for('shop_region') }}" method="post">
        <input type="submit" value="서북권" name="region">
    </form>
</div>
<div class="button_region">
    <form action="{{ url_for('shop_region') }}" method="post">
        <input type="submit" value="서남권" name="region">
    </form>
</div>

<!-- 카카오맵 -->
<div id="map" style="width:80%;height:400px;"></div>

<script>
    var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
    var options = { //지도를 생성할 때 필요한 기본 옵션
        center: new kakao.maps.LatLng(37.4587561, 126.9053348), //지도의 중심좌표.
        level: 10 //지도의 레벨(확대, 축소 정도)
    };
    var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
</script>
    
    
{% if datas %}
    <h1>{{ region }}가게 리스트</h1>
    <ul>
        {% for data in datas %}
            <li><h3>상호명:{{ data['상호명'] }}</h3></li>
            <li><h4>업종:{{ data['업종'] }}</h4></li>
            <li><h4>자치구:{{ data['자치구'] }}</h4></li>
            <li><h4>도로명주소:{{ data['도로명주소'] }}</h4></li>
            <hr>
        {% endfor %}
    </ul>
{% else %}
    <h3> 현재 검색 가능 권역</h3>
    <ul>
        <li>동북권</li>
        <li>동남권</li>
        <li>도심권</li>
        <li>서북권</li>
        <li>서남권</li>
    </ul>
{% endif %}
</body>
